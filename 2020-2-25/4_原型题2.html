<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
<script>
    // function Foo(){
    //     getName = function () {console.log(1);};
    //     return this;
    // }
    // Foo.getName = function () {console.log(2);};
    // Foo.prototype.getName = function () {console.log(3);};

   
    // var getName = function () {console.log(4);};
    // function getName() {console.log(5);}

    // // console.log(getName)

    // Foo.getName();//2
    // getName();//4
    // Foo().getName();//1
    // getName();//1

    // var a = new Foo.getName(); //Foo.getName  2  -> Foo.getName实例
    // var b = new Foo().getName();//3 -> undefined
    // var C = new new Foo().getName();//3 -> Foo{}.getName的实例


    // // new new Foo().getName() -> let f = new Foo()   new f.getName()

    // console.log(a,b,C); 




/********************************************************/

/**
    f.say -> f.__proto__ -> Fn.prototype.say -> Fn.prototype.__proto__
**/

    // function Person() {
    //     this.name = 'zhufeng '
    // };
    // Person.prototype.getName = function () {
    //     console.log(this.name)
    //     console.log(this.age)
    // };
    // Person.prototype.age = 5000;
    // var per1 = new Person;
    // per1.getName();//zhufeng,5000
    // per1.age = 9;
    // per1.getName();//zhufeng  9
    // console.log(per1.age);//9
    // var per2 = new Person;
    // console.log(per2.age);//5000


    // let obj = {a:123};

    // let o = Object.create(obj);

    // // console.log(o);

    // function create(obj){
    //     function fn(){}
    //     fn.prototype = obj;
    //     return new fn;
    // }
    
    // console.log(create(obj))

    // // console.log(o.__proto__ === obj);//o.__proto__ === obj


    function NewFn(fn){
        let obj = {}; //创建实例对象
        obj.__proto__ = fn.prototype;//实例的原型链 === 构造函数的原型
        let ret = fn.call(obj); //获取函数返回值
        return typeof ret === ('object' || 'function')?ret:obj; //通过返回值返回东西
    }

    
    function Fn(){
        this.a = 1;
        // console.log(this);
        // return []
    }

    Fn.prototype.aa = 5;

    console.log( NewFn(Fn).aa )




</script>
</body>
</html>